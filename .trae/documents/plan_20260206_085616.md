# 修复 Monaco Editor 中 Emmet 和 Snippets 无法使用的问题

根据分析，当前 `emmet-monaco-es` 和自定义 Snippets 的集成方式存在问题，导致在多个编辑器实例共存（如代码演练场）或特定语言（如 Markdown）下无法正常工作。

## 1. 修复 Emmet 和 Snippets 初始化逻辑 (MonacoEditor.vue)

### 问题原因
- **重复注册**：每次组件挂载都重新注册 Emmet 和 Snippets，这在 Monaco Editor 的全局 API 设计中是不推荐的，会导致冲突或无效。
- **语言范围缺失**：`emmetHTML` 默认不包含 `markdown`，导致写文章时无法使用 HTML 缩写。

### 修复方案
- **全局单例模式**：引入一个标志位（如 `window.__MONACO_PROVIDERS_INITIALIZED__`），确保 Emmet 和 Snippets 的注册逻辑在整个应用生命周期中**只执行一次**。
- **扩展语言支持**：显式配置 `emmetHTML` 支持 `markdown` 语言，使其在文章编辑器中也能生效。
- **清理冗余代码**：移除组件级别的 `dispose` 逻辑（因为 Provider 是全局注册的，不需要随组件销毁）。

## 2. 验证
- **Markdown 编辑器**：输入 `div.box` 并按 Tab，验证是否展开。
- **代码演练场**：在 HTML/CSS/JS 标签页切换，验证 Emmet 和 Snippets 是否都能正常工作且互不干扰。
