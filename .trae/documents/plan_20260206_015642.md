# 实现弹窗式密钥设置功能

为了解决用户在编辑文章时因密钥（私钥）失效而必须退出设置的问题，我将实现一个弹窗组件，允许在任何界面直接上传私钥文件。

## 1. 创建认证模态框组件 (AuthModal.vue)
创建一个新的 Vue 组件 `src/components/AuthModal.vue`。
- **UI 设计**：复用 `Admin.vue` 中的上传界面风格，改为模态框样式。
- **功能**：
  - 提供 `.pem` 文件上传控件。
  - 使用 `FileReader` 读取文件内容。
  - 调用 `useAuth` 的 `setPrivateKey` 方法保存私钥。
  - 成功后触发 `success` 事件并关闭模态框。

## 2. 集成到编辑器 (Editor.vue)
在 `src/views/Editor.vue` 中引入并使用 `AuthModal`。
- **引入组件**：注册 `AuthModal` 组件。
- **错误捕获**：
  - 在 `loadPost` (加载文章)、`handleSavePost` (保存文章)、`handleImageUpload` (上传图片) 的 `catch` 块中增加逻辑。
  - 检测错误信息是否包含 "需要先设置私钥" 或 "401" / "Unauthorized"。
  - 如果匹配，阻止默认的错误提示（或改为友好提示），并打开 `AuthModal`。
- **重试机制**：
  - 当 `AuthModal` 认证成功关闭后，用户可以留在当前页面直接再次点击保存或上传按钮，无需刷新或跳转。

## 3. 验证
- 模拟私钥丢失场景（清除 SessionStorage）。
- 在编辑器中点击保存，验证是否弹出认证模态框。
- 上传私钥后，验证是否能继续保存成功。
