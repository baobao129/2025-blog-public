# 构建 Vue 3 博客系统计划

我们将基于现有的框架，完善 GitHub API 客户端，并引入路由和 Markdown 渲染功能，搭建一个功能完整的博客系统。

## 1. 依赖安装
- **vue-router**: 用于页面路由管理（首页、文章页、管理页）。
- **marked**: 用于将 Markdown 格式的博客文章渲染为 HTML。

## 2. 完善核心工具 (`src/utils/github-client.js`)
需要补充读取数据的 API 方法：
- `getDirectoryContents`: 获取 `posts/` 目录下的文章列表。
- `getFileContent`: 获取单篇文章的详细内容（并处理 Base64 解码）。
- `deleteFile`: (可选) 删除文章的功能。

## 3. 路由设计 (`src/router/index.js`)
- `/`: **首页** - 展示文章列表。
- `/post/:filename`: **文章详情页** - 展示 Markdown 渲染后的文章。
- `/admin`: **管理页** - 包含以下功能：
    - **私钥设置**：通过文件上传 (`.pem`) 设置 GitHub App 私钥。
    - **文章管理**：新建、编辑、保存文章（提交到 GitHub）。

## 4. 页面开发
### Admin 管理页 (`src/views/Admin.vue`)
- 实现文件上传控件，读取 `.pem` 文件内容并调用 `useAuth.setPrivateKey`。
- 实现简单的 Markdown 编辑器（标题输入框 + 内容文本域）。
- 实现 "保存/发布" 按钮，调用 `putFile` 将文章保存到仓库的 `posts/` 目录。

### 首页 (`src/views/Home.vue`)
- 调用 `getDirectoryContents` 获取 `posts/` 目录下的所有 `.md` 文件。
- 展示文章标题列表，点击跳转到详情页。

### 文章详情页 (`src/views/Post.vue`)
- 根据 URL 参数获取文件名。
- 调用 `getFileContent` 获取内容。
- 使用 `marked` 渲染并展示。

## 5. 验证与测试
- 验证私钥上传功能是否正常工作。
- 验证能否成功创建新文章并在 GitHub 仓库中看到文件。
- 验证首页能否刷出新创建的文章，且详情页渲染正确。
